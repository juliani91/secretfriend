<!DOCTYPE>
<html>
<head>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script>
// shuffling the array names   it repeats on 0 so change
function shuffleArray(array){
    for(var i = array.length - 1; i > 0; i--){
        var j = Math.floor(Math.random() * (i + 1));
    var temp = array[i];
    array[i] = array[j];
    array[j] = temp;
    }
    return array;
}

$(document).ready(function(){

      var from,to,subject,text; 
      var sub;
    $("#send_email").click(function(){   

    var arrayNames = [$("#subject").val(),$("#subject2").val(),$("#subject3").val(),$("#subject4").val()]; 
      //  shuffleArray(arrayNames); // function call return shuffled array
        to=$("#to").val();
        //subject=$("#subject").val();
        to2=$("#to2").val();
        to3=$("#to3").val();
        to4=$("#to4").val();
        // subject=$("#subject").val();
        // subject2=$("#subject2").val();
        // subject3=$("#subject3").val();
        // subject4=$("#subject4").val();
        //testing
        // var arraySubject = [];
        // arraySubject.push(subject);
        // arraySubject.push(subject2);
        // arraySubject.push(subject3);
        // arraySubject.push(subject4);
        shuffleArray(arrayNames);
         
        sub =  arrayNames.indexOf($("#subject").val());
        sub2 = arrayNames.indexOf($("#subject2").val());
        sub3 = arrayNames.indexOf($("#subject3").val());
        sub4 = arrayNames.indexOf($("#subject4").val());

        $("#message").text("Sending E-mail...Please wait ");
        $("#message").append(sub + " " + sub2 + " " + sub3 + " " + sub4);
        $.get("/send",{to:to,subject:sub},function(data){
//         if(data=="sent")
//         {
// $("#message").empty().html("Email is been sent at " + to + " . Please check inbox!");
//         }
    console.log("Email sent");

});  
        $.get("/send",{to:to2,subject:sub2},function(){
        console.log("Email sent");
});   

        $.get("/send",{to:to3,subject:sub3},function(){
        console.log("Email sent");
});  

        $.get("/send",{to:to4,subject:sub4},function(){
        console.log("Email sent");
});    

    });
});



</script>
</head>
<body>

<div id="container">
<div></div>
Node.JS Email application

<div>
<h1>Mailer In Node.JS</h1>
<input id="to" type="text" placeholder="Enter E-mail"  /> <br>
<input id="subject" type="text" placeholder="Write a name"  /> <br><br>
<input id="to2" type="text" placeholder="Enter E-mail"  /> <br>
<input id="subject2" type="text" placeholder="Write a name"  /> <br><br>
<input id="to3" type="text" placeholder="Enter E-mail"  /> <br>
<input id="subject3" type="text" placeholder="Write a name"  /> <br><br>
<input id="to4" type="text" placeholder="Enter E-mail"  /> <br>
<input id="subject4" type="text" placeholder="Write a name"  /> <br>
<!-- <textarea id="content" cols="40" rows="5" placeholder="Write what you want to send" ></textarea> -->

<button id="send_email">Send Email</button>
<span id="message"></span>
</div>

</body>
</html>






